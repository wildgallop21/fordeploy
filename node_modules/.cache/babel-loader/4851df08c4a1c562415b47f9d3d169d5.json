{"ast":null,"code":"var _jsxFileName = \"/Users/dayoon_sohn/Desktop/sparta/reactredux/react-lastweek/ALIKE-d-MOVIE-MOVIE/alikemovie/src/components/Review.jsx\",\n    _s = $RefreshSig$();\n\nimport styled from 'styled-components';\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useLocation } from 'react-router-dom';\nimport { __getComments, __postComments } from '../Redux/modules/commentSlice';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Review() {\n  _s();\n\n  var _detailreviews$filter, _comments;\n\n  const [coments, setComments] = useState(null);\n  const [detailreviews, setDetailReviews] = useState(null);\n  const location = useLocation();\n  const param = useParams();\n  const [comment, setComment] = useState(\"\");\n  const {\n    id\n  } = useParams();\n  const params = parseInt(id);\n  const dispatch = useDispatch(); // 훅을 사용해서 생성한 param을 콘솔에 찍어봅시다.\n  // console.log(param.id)\n  // console.log(typeof param.id)\n  // console.log(Number(param.id))\n  // console.log(detailreviews)\n  // axios.get('https://localhost:4000/sendlist/todo', {userId: userId},\n\n  const fetchDetailReviews = async () => {\n    const {\n      data\n    } = await axios.get(\"http://localhost:3001/reviews\", {\n      Id: param === null || param === void 0 ? void 0 : param.id\n    });\n    setDetailReviews(data); // const { comment } = await axios.get(\"http://localhost:3001/comments\",{Id:param?.id});\n    // setComment(comment)\n    // console.log('bbbb');\n    // console.log(data);\n    // console.log(param.id);\n  };\n\n  const fetchComments = async () => {\n    // const { comment } = await axios.get(\"http://localhost:3001/comments\",{Id:param?.id});\n    const {\n      comment\n    } = await axios.get(\"http://localhost:3001/comments\", {\n      Id: param === null || param === void 0 ? void 0 : param.id\n    });\n    setComment(comment);\n    console.log('bbbb');\n    console.log(comment); //undefined\n\n    console.log(param);\n  };\n\n  const addComment = e => {\n    e.preventDefault();\n\n    if (comment === \"\") {\n      alert(\"댓글을 작성 해주세요.\");\n    }\n\n    dispatch(__postComments({\n      // reviewsId:params,\n      reviewsId: params,\n      comment: comment\n    }));\n    setComment(\"\");\n  };\n\n  const commentHandle = e => {\n    setComment(e.target.value);\n  };\n\n  useEffect(() => {\n    // dispatch(getBoardAsync(params));\n    fetchComments();\n    dispatch(__getComments(params));\n  }, []); //   useEffect(()=>{\n  //     dispatch(getBoardAsync(params));\n  //     dispatch(getCommentIdAsync(params));\n  // },[check])\n  // List.jsx에서 state자료를 받아와서 (  const [reviews, setReviews] = useState(null);)\n  // Reviews.jsx \n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"pathname : \", location.pathname]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [detailreviews === null || detailreviews === void 0 ? void 0 : (_detailreviews$filter = detailreviews.filter(el => el.id === Number(param.id))) === null || _detailreviews$filter === void 0 ? void 0 : _detailreviews$filter.map(detailReview => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [detailReview.movie_title, detailReview.star, detailReview.content, detailReview.picture]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(CommentContainer, {\n        children: [/*#__PURE__*/_jsxDEV(Comment, {\n          id: params\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(CommentInput, {\n          value: comment,\n          type: \"text\",\n          onChange: commentHandle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(CommentBtn, {\n          onClick: addComment,\n          type: \"submit\",\n          children: \"\\uB313\\uAE00 \\uCD94\\uAC00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\uB313\\uAE00\\uC740 \\uC5EC\\uAE30\\uC5D0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: (_comments = comments) === null || _comments === void 0 ? void 0 : _comments.map(comment => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: comment.comment\n        }, comment.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Review, \"WfjHus4IWnaU/ZQKeUxINGxBizo=\", false, function () {\n  return [useLocation, useParams, useParams, useDispatch];\n});\n\n_c = Review;\nexport default Review;\nconst Comment = styled.form`\n  \n`;\n_c2 = Comment;\nconst CommentContainer = styled.form`\n    width: 800px;\n    height: auto;\n    margin: 20px auto;\n`;\n_c3 = CommentContainer;\nconst CommentBox = styled.div`\n    width: 800px;\n    height: 35px;\n    margin: 20px auto;\n    display: flex;\n    border: 1px solid black;\n`;\nconst CommentInput = styled.input`\n    width: 800px;\n    height: 30px;\n    margin: 0 auto;\n    display: flex;\n    border: 1px solid black;\n`;\n_c4 = CommentInput;\nconst CommentBtn = styled.button`\n    width: 80px;\n    height: 30px;\n    margin: 10px auto;\n    display: flex;\n    justify-content: center;\n`;\n_c5 = CommentBtn;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"Review\");\n$RefreshReg$(_c2, \"Comment\");\n$RefreshReg$(_c3, \"CommentContainer\");\n$RefreshReg$(_c4, \"CommentInput\");\n$RefreshReg$(_c5, \"CommentBtn\");","map":{"version":3,"names":["styled","axios","React","useEffect","useState","useParams","useLocation","__getComments","__postComments","useDispatch","useSelector","Review","coments","setComments","detailreviews","setDetailReviews","location","param","comment","setComment","id","params","parseInt","dispatch","fetchDetailReviews","data","get","Id","fetchComments","console","log","addComment","e","preventDefault","alert","reviewsId","commentHandle","target","value","pathname","filter","el","Number","map","detailReview","movie_title","star","content","picture","comments","Comment","form","CommentContainer","CommentBox","div","CommentInput","input","CommentBtn","button"],"sources":["/Users/dayoon_sohn/Desktop/sparta/reactredux/react-lastweek/ALIKE-d-MOVIE-MOVIE/alikemovie/src/components/Review.jsx"],"sourcesContent":["\nimport styled from 'styled-components';\nimport axios from \"axios\"; \nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useLocation } from 'react-router-dom';\nimport { __getComments, __postComments } from '../Redux/modules/commentSlice';\nimport {useDispatch, useSelector} from \"react-redux\"\n\nfunction Review() {\n\nconst [coments, setComments] = useState(null);\n\nconst [detailreviews, setDetailReviews] = useState(null);\nconst location = useLocation();\nconst param = useParams();\nconst [comment,setComment] = useState(\"\")\nconst {id} = useParams()\nconst params = parseInt(id)\nconst dispatch = useDispatch();\n\n\n\t\t// 훅을 사용해서 생성한 param을 콘솔에 찍어봅시다.\n  // console.log(param.id)\n  // console.log(typeof param.id)\n  // console.log(Number(param.id))\n  // console.log(detailreviews)\n  // axios.get('https://localhost:4000/sendlist/todo', {userId: userId},\n\n  const fetchDetailReviews = async () => {\n    const { data } = await axios.get(\"http://localhost:3001/reviews\",{Id:param?.id});\n    setDetailReviews(data);\n    // const { comment } = await axios.get(\"http://localhost:3001/comments\",{Id:param?.id});\n    // setComment(comment)\n    // console.log('bbbb');\n    // console.log(data);\n    // console.log(param.id);\n  };\n  const fetchComments = async () => {\n    // const { comment } = await axios.get(\"http://localhost:3001/comments\",{Id:param?.id});\n    const { comment } = await axios.get(\"http://localhost:3001/comments\",{Id:param?.id});\n    setComment(comment)\n    console.log('bbbb');\n    console.log(comment);\n    //undefined\n    console.log(param);\n\n  };\n\n\n  const addComment = (e) => {\n    e.preventDefault();\n    if (comment === \"\"){\n        alert(\"댓글을 작성 해주세요.\")\n    }\n    dispatch(\n        __postComments({\n            // reviewsId:params,\n            reviewsId:params,\n            comment:comment\n        })\n    )\n    setComment(\"\")\n}\nconst commentHandle = (e) => {\n  setComment(e.target.value)\n}\n  useEffect(() => {\n    // dispatch(getBoardAsync(params));\n    fetchComments();\n    dispatch(__getComments(params));\n  }, []);\n//   useEffect(()=>{\n//     dispatch(getBoardAsync(params));\n//     dispatch(getCommentIdAsync(params));\n// },[check])\n\n// List.jsx에서 state자료를 받아와서 (  const [reviews, setReviews] = useState(null);)\n// Reviews.jsx \n  return (\n    <div>\n      <div>\n      pathname : {location.pathname}\n      </div>\n      {/* <div>\n        detailReviews[{location.pathname}]\n      </div> */}\n      {/* <div>\n        {detailreviews[Number(param.id)]}\n      </div> */}\n      {/* {detailreviews?.map((detailReview) =>(\n\n      \n      <div> {detailReview.movie_title} </div>\n      ) )} */}\n      <div>\n        {detailreviews?.filter(el=> el.id === Number(param.id))?.map((detailReview) =>(\n          <div> \n            {detailReview.movie_title} \n            {detailReview.star}\n            {detailReview.content} \n            {detailReview.picture} \n          </div>\n          \n          \n          ))}\n            <CommentContainer>\n              <Comment id={params}></Comment>\n              <CommentInput value = {comment} type= \"text\" onChange={commentHandle}/>\n              <CommentBtn onClick={addComment} type=\"submit\">댓글 추가</CommentBtn>\n            </CommentContainer>\n          <div>\n            댓글은 여기에\n          </div>\n          <div>\n          {comments?.map((comment) => (\n            <div key={comment.id}>{comment.comment}</div>\n          ))}\n\n          </div>\n      </div>\n\n      {/* <div> `${{review.id}}` </div> */}\n\n    </div>\n  );\n\n}\n\n\nexport default Review;\n\nconst Comment = styled.form`\n  \n`\n\nconst CommentContainer = styled.form`\n    width: 800px;\n    height: auto;\n    margin: 20px auto;\n`\n\nconst CommentBox = styled.div`\n    width: 800px;\n    height: 35px;\n    margin: 20px auto;\n    display: flex;\n    border: 1px solid black;\n`\n\n\nconst CommentInput = styled.input`\n    width: 800px;\n    height: 30px;\n    margin: 0 auto;\n    display: flex;\n    border: 1px solid black;\n`\n\nconst CommentBtn =styled.button`\n    width: 80px;\n    height: 30px;\n    margin: 10px auto;\n    display: flex;\n    justify-content: center;\n`"],"mappings":";;;AACA,OAAOA,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,aAAT,EAAwBC,cAAxB,QAA8C,+BAA9C;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;;;AAEA,SAASC,MAAT,GAAkB;EAAA;;EAAA;;EAElB,MAAM,CAACC,OAAD,EAAUC,WAAV,IAAyBT,QAAQ,CAAC,IAAD,CAAvC;EAEA,MAAM,CAACU,aAAD,EAAgBC,gBAAhB,IAAoCX,QAAQ,CAAC,IAAD,CAAlD;EACA,MAAMY,QAAQ,GAAGV,WAAW,EAA5B;EACA,MAAMW,KAAK,GAAGZ,SAAS,EAAvB;EACA,MAAM,CAACa,OAAD,EAASC,UAAT,IAAuBf,QAAQ,CAAC,EAAD,CAArC;EACA,MAAM;IAACgB;EAAD,IAAOf,SAAS,EAAtB;EACA,MAAMgB,MAAM,GAAGC,QAAQ,CAACF,EAAD,CAAvB;EACA,MAAMG,QAAQ,GAAGd,WAAW,EAA5B,CAVkB,CAahB;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAMe,kBAAkB,GAAG,YAAY;IACrC,MAAM;MAAEC;IAAF,IAAW,MAAMxB,KAAK,CAACyB,GAAN,CAAU,+BAAV,EAA0C;MAACC,EAAE,EAACV,KAAD,aAACA,KAAD,uBAACA,KAAK,CAAEG;IAAX,CAA1C,CAAvB;IACAL,gBAAgB,CAACU,IAAD,CAAhB,CAFqC,CAGrC;IACA;IACA;IACA;IACA;EACD,CARD;;EASA,MAAMG,aAAa,GAAG,YAAY;IAChC;IACA,MAAM;MAAEV;IAAF,IAAc,MAAMjB,KAAK,CAACyB,GAAN,CAAU,gCAAV,EAA2C;MAACC,EAAE,EAACV,KAAD,aAACA,KAAD,uBAACA,KAAK,CAAEG;IAAX,CAA3C,CAA1B;IACAD,UAAU,CAACD,OAAD,CAAV;IACAW,OAAO,CAACC,GAAR,CAAY,MAAZ;IACAD,OAAO,CAACC,GAAR,CAAYZ,OAAZ,EALgC,CAMhC;;IACAW,OAAO,CAACC,GAAR,CAAYb,KAAZ;EAED,CATD;;EAYA,MAAMc,UAAU,GAAIC,CAAD,IAAO;IACxBA,CAAC,CAACC,cAAF;;IACA,IAAIf,OAAO,KAAK,EAAhB,EAAmB;MACfgB,KAAK,CAAC,cAAD,CAAL;IACH;;IACDX,QAAQ,CACJf,cAAc,CAAC;MACX;MACA2B,SAAS,EAACd,MAFC;MAGXH,OAAO,EAACA;IAHG,CAAD,CADV,CAAR;IAOAC,UAAU,CAAC,EAAD,CAAV;EACH,CAbC;;EAcF,MAAMiB,aAAa,GAAIJ,CAAD,IAAO;IAC3Bb,UAAU,CAACa,CAAC,CAACK,MAAF,CAASC,KAAV,CAAV;EACD,CAFD;;EAGEnC,SAAS,CAAC,MAAM;IACd;IACAyB,aAAa;IACbL,QAAQ,CAAChB,aAAa,CAACc,MAAD,CAAd,CAAR;EACD,CAJQ,EAIN,EAJM,CAAT,CA1DgB,CA+DlB;EACA;EACA;EACA;EAEA;EACA;;EACE,oBACE;IAAA,wBACE;MAAA,0BACYL,QAAQ,CAACuB,QADrB;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAeE;MAAA,WACGzB,aADH,aACGA,aADH,gDACGA,aAAa,CAAE0B,MAAf,CAAsBC,EAAE,IAAGA,EAAE,CAACrB,EAAH,KAAUsB,MAAM,CAACzB,KAAK,CAACG,EAAP,CAA3C,CADH,0DACG,sBAAwDuB,GAAxD,CAA6DC,YAAD,iBAC3D;QAAA,WACGA,YAAY,CAACC,WADhB,EAEGD,YAAY,CAACE,IAFhB,EAGGF,YAAY,CAACG,OAHhB,EAIGH,YAAY,CAACI,OAJhB;MAAA;QAAA;QAAA;QAAA;MAAA,QADD,CADH,eAWM,QAAC,gBAAD;QAAA,wBACE,QAAC,OAAD;UAAS,EAAE,EAAE3B;QAAb;UAAA;UAAA;UAAA;QAAA,QADF,eAEE,QAAC,YAAD;UAAc,KAAK,EAAIH,OAAvB;UAAgC,IAAI,EAAE,MAAtC;UAA6C,QAAQ,EAAEkB;QAAvD;UAAA;UAAA;UAAA;QAAA,QAFF,eAGE,QAAC,UAAD;UAAY,OAAO,EAAEL,UAArB;UAAiC,IAAI,EAAC,QAAtC;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAHF;MAAA;QAAA;QAAA;QAAA;MAAA,QAXN,eAgBI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAhBJ,eAmBI;QAAA,uBACCkB,QADD,8CACC,UAAUN,GAAV,CAAezB,OAAD,iBACb;UAAA,UAAuBA,OAAO,CAACA;QAA/B,GAAUA,OAAO,CAACE,EAAlB;UAAA;UAAA;UAAA;QAAA,QADD;MADD;QAAA;QAAA;QAAA;MAAA,QAnBJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAfF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAgDD;;GAtHQT,M;UAKQL,W,EACHD,S,EAEDA,S,EAEII,W;;;KAVRE,M;AAyHT,eAAeA,MAAf;AAEA,MAAMuC,OAAO,GAAGlD,MAAM,CAACmD,IAAK;AAC5B;AACA,CAFA;MAAMD,O;AAIN,MAAME,gBAAgB,GAAGpD,MAAM,CAACmD,IAAK;AACrC;AACA;AACA;AACA,CAJA;MAAMC,gB;AAMN,MAAMC,UAAU,GAAGrD,MAAM,CAACsD,GAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,CANA;AASA,MAAMC,YAAY,GAAGvD,MAAM,CAACwD,KAAM;AAClC;AACA;AACA;AACA;AACA;AACA,CANA;MAAMD,Y;AAQN,MAAME,UAAU,GAAEzD,MAAM,CAAC0D,MAAO;AAChC;AACA;AACA;AACA;AACA;AACA,CANA;MAAMD,U"},"metadata":{},"sourceType":"module"}