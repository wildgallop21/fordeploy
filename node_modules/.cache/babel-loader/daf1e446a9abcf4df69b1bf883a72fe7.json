{"ast":null,"code":"var _jsxFileName = \"/Users/dayoon_sohn/Desktop/sparta/reactredux/react-lastweek/ALIKE-d-MOVIE-MOVIE/alikemovie/src/components/Review.jsx\",\n    _s = $RefreshSig$();\n\nimport styled from 'styled-components';\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Review() {\n  _s();\n\n  var _detailreviews$filter;\n\n  const [detailreviews, setDetailReviews] = useState(null);\n  const location = useLocation();\n  const param = useParams();\n  const [comment, setComment] = useState(\"\"); // 훅을 사용해서 생성한 param을 콘솔에 찍어봅시다.\n  // console.log(param);\n  // console.log(detailreviews[param.id])\n\n  console.log(param.id);\n  console.log(typeof param.id);\n  console.log(Number(param.id));\n  console.log(detailreviews); // axios.get('https://localhost:4000/sendlist/todo', {userId: userId},\n\n  const fetchDetailReviews = async () => {\n    const {\n      data\n    } = await axios.get(\"http://localhost:3001/reviews\", {\n      Id: param === null || param === void 0 ? void 0 : param.id\n    });\n    setDetailReviews(data);\n    console.log('bbbb');\n    console.log(data);\n    console.log(param.id);\n  };\n\n  const addComment = e => {\n    e.preventDefault();\n\n    if (comment === \"\") {\n      alert(\"댓글을 작성 해주세요.\");\n    }\n\n    dispatch(postCommentIdAsync({\n      boardsId: params,\n      comment: comment\n    }));\n    setComment(\"\");\n    setCheck(!check);\n  };\n\n  useEffect(() => {\n    fetchDetailReviews();\n  }, []); // List.jsx에서 state자료를 받아와서 (  const [reviews, setReviews] = useState(null);)\n  // Reviews.jsx \n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"pathname : \", location.pathname]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [detailreviews === null || detailreviews === void 0 ? void 0 : (_detailreviews$filter = detailreviews.filter(el => el.id === Number(param.id))) === null || _detailreviews$filter === void 0 ? void 0 : _detailreviews$filter.map(detailReview => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [detailReview.movie_title, detailReview.star, detailReview.content, detailReview.picture]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addComment,\n        type: \"submit\",\n        children: \" \\uB313\\uAE00\\uCD94\\uAC00 \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\uB313\\uAE00\\uC740 \\uC5EC\\uAE30\\uC5D0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Review, \"FslrPLqR7Pb9p75zUWfIPd7qnHo=\", false, function () {\n  return [useLocation, useParams];\n});\n\n_c = Review;\nexport default Review;\n\nvar _c;\n\n$RefreshReg$(_c, \"Review\");","map":{"version":3,"names":["styled","axios","React","useEffect","useState","useParams","useLocation","Review","detailreviews","setDetailReviews","location","param","comment","setComment","console","log","id","Number","fetchDetailReviews","data","get","Id","addComment","e","preventDefault","alert","dispatch","postCommentIdAsync","boardsId","params","setCheck","check","pathname","filter","el","map","detailReview","movie_title","star","content","picture"],"sources":["/Users/dayoon_sohn/Desktop/sparta/reactredux/react-lastweek/ALIKE-d-MOVIE-MOVIE/alikemovie/src/components/Review.jsx"],"sourcesContent":["\nimport styled from 'styled-components';\nimport axios from \"axios\"; \nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useLocation } from 'react-router-dom';\n\n\n\n\nfunction Review() {\n\n\nconst [detailreviews, setDetailReviews] = useState(null);\nconst location = useLocation();\nconst param = useParams();\nconst [comment,setComment] = useState(\"\")\n\n\t\t// 훅을 사용해서 생성한 param을 콘솔에 찍어봅시다.\n  // console.log(param);\n  // console.log(detailreviews[param.id])\n  console.log(param.id)\n  console.log(typeof param.id)\n  console.log(Number(param.id))\n  console.log(detailreviews)\n  // axios.get('https://localhost:4000/sendlist/todo', {userId: userId},\n\n  const fetchDetailReviews = async () => {\n    const { data } = await axios.get(\"http://localhost:3001/reviews\",{Id:param?.id});\n    setDetailReviews(data);\n    console.log('bbbb');\n    console.log(data);\n    console.log(param.id);\n\n  };\n\n  const addComment = (e) => {\n    e.preventDefault();\n    if (comment === \"\"){\n        alert(\"댓글을 작성 해주세요.\")\n    }\n    dispatch(\n        postCommentIdAsync({\n            boardsId:params,\n            comment:comment\n        })\n    )\n    setComment(\"\")\n    setCheck(!check)\n}\n\n  useEffect(() => {\n    fetchDetailReviews();\n  }, []);\n\n// List.jsx에서 state자료를 받아와서 (  const [reviews, setReviews] = useState(null);)\n// Reviews.jsx \n  return (\n    <div>\n      <div>\n      pathname : {location.pathname}\n      </div>\n      {/* <div>\n        detailReviews[{location.pathname}]\n      </div> */}\n      {/* <div>\n        {detailreviews[Number(param.id)]}\n      </div> */}\n      {/* {detailreviews?.map((detailReview) =>(\n\n      \n      <div> {detailReview.movie_title} </div>\n      ) )} */}\n      <div>\n        {detailreviews?.filter(el=> el.id === Number(param.id))?.map((detailReview) =>(\n          <div> \n            {detailReview.movie_title} \n            {detailReview.star}\n            {detailReview.content} \n            {detailReview.picture} \n          </div>\n          \n          \n          ))}\n          <button onClick={addComment} type=\"submit\"> 댓글추가 </button>\n          <div>\n            댓글은 여기에\n          </div>\n      </div>\n\n      {/* <div> `${{review.id}}` </div> */}\n\n    </div>\n  );\n\n}\n\n\nexport default Review;"],"mappings":";;;AACA,OAAOA,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,WAAT,QAA4B,kBAA5B;;;AAKA,SAASC,MAAT,GAAkB;EAAA;;EAAA;;EAGlB,MAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCL,QAAQ,CAAC,IAAD,CAAlD;EACA,MAAMM,QAAQ,GAAGJ,WAAW,EAA5B;EACA,MAAMK,KAAK,GAAGN,SAAS,EAAvB;EACA,MAAM,CAACO,OAAD,EAASC,UAAT,IAAuBT,QAAQ,CAAC,EAAD,CAArC,CANkB,CAQhB;EACA;EACA;;EACAU,OAAO,CAACC,GAAR,CAAYJ,KAAK,CAACK,EAAlB;EACAF,OAAO,CAACC,GAAR,CAAY,OAAOJ,KAAK,CAACK,EAAzB;EACAF,OAAO,CAACC,GAAR,CAAYE,MAAM,CAACN,KAAK,CAACK,EAAP,CAAlB;EACAF,OAAO,CAACC,GAAR,CAAYP,aAAZ,EAdgB,CAehB;;EAEA,MAAMU,kBAAkB,GAAG,YAAY;IACrC,MAAM;MAAEC;IAAF,IAAW,MAAMlB,KAAK,CAACmB,GAAN,CAAU,+BAAV,EAA0C;MAACC,EAAE,EAACV,KAAD,aAACA,KAAD,uBAACA,KAAK,CAAEK;IAAX,CAA1C,CAAvB;IACAP,gBAAgB,CAACU,IAAD,CAAhB;IACAL,OAAO,CAACC,GAAR,CAAY,MAAZ;IACAD,OAAO,CAACC,GAAR,CAAYI,IAAZ;IACAL,OAAO,CAACC,GAAR,CAAYJ,KAAK,CAACK,EAAlB;EAED,CAPD;;EASA,MAAMM,UAAU,GAAIC,CAAD,IAAO;IACxBA,CAAC,CAACC,cAAF;;IACA,IAAIZ,OAAO,KAAK,EAAhB,EAAmB;MACfa,KAAK,CAAC,cAAD,CAAL;IACH;;IACDC,QAAQ,CACJC,kBAAkB,CAAC;MACfC,QAAQ,EAACC,MADM;MAEfjB,OAAO,EAACA;IAFO,CAAD,CADd,CAAR;IAMAC,UAAU,CAAC,EAAD,CAAV;IACAiB,QAAQ,CAAC,CAACC,KAAF,CAAR;EACH,CAbC;;EAeA5B,SAAS,CAAC,MAAM;IACde,kBAAkB;EACnB,CAFQ,EAEN,EAFM,CAAT,CAzCgB,CA6ClB;EACA;;EACE,oBACE;IAAA,wBACE;MAAA,0BACYR,QAAQ,CAACsB,QADrB;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAeE;MAAA,WACGxB,aADH,aACGA,aADH,gDACGA,aAAa,CAAEyB,MAAf,CAAsBC,EAAE,IAAGA,EAAE,CAAClB,EAAH,KAAUC,MAAM,CAACN,KAAK,CAACK,EAAP,CAA3C,CADH,0DACG,sBAAwDmB,GAAxD,CAA6DC,YAAD,iBAC3D;QAAA,WACGA,YAAY,CAACC,WADhB,EAEGD,YAAY,CAACE,IAFhB,EAGGF,YAAY,CAACG,OAHhB,EAIGH,YAAY,CAACI,OAJhB;MAAA;QAAA;QAAA;QAAA;MAAA,QADD,CADH,eAWI;QAAQ,OAAO,EAAElB,UAAjB;QAA6B,IAAI,EAAC,QAAlC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAXJ,eAYI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAZJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAfF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAsCD;;GArFQf,M;UAIQD,W,EACHD,S;;;KALLE,M;AAwFT,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}