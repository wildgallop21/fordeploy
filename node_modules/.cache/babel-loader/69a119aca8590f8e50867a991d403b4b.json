{"ast":null,"code":"import _objectDestructuringEmpty from\"/Users/dayoon_sohn/Desktop/sparta/deploy/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\";import _defineProperty from\"/Users/dayoon_sohn/Desktop/sparta/deploy/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"/Users/dayoon_sohn/Desktop/sparta/deploy/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/dayoon_sohn/Desktop/sparta/deploy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import axios from\"axios\";import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";var initialState={reviews:[],isLoading:false,error:null};export var __postReviews=createAsyncThunk(\"reviews/postReviews\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(payload,thunkAPI){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"http://localhost:3001/reviews\",payload);case 3:data=_context.sent;return _context.abrupt(\"return\",thunkAPI.fulfillWithValue(data.data));case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",thunkAPI.rejectWithValue(_context.t0));case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());export var __deleteReviews=createAsyncThunk(\"reviews/deleteReviews\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(payload,thunkAPI){var data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.delete(\"http://localhost:3001/reviews/\".concat(payload));case 3:data=_context2.sent;console.log('deletetest');return _context2.abrupt(\"return\",thunkAPI.fulfillWithValue(payload));case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);return _context2.abrupt(\"return\",thunkAPI.rejectWithValue(_context2.t0));case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}());export var __getReviews=createAsyncThunk(\"reviews/getReviews\",/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(payload,thunkAPI){var data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(\"http://localhost:3001/reviews\");case 3:data=_context3.sent;return _context3.abrupt(\"return\",thunkAPI.fulfillWithValue(data.data));case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);return _context3.abrupt(\"return\",thunkAPI.rejectWithValue(_context3.t0));case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}());export var __patchReviews=createAsyncThunk(\"reviews/patchReviews\",/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(payload,thunkAPI){var data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.patch(\"http://localhost:3001/reviews/\".concat(payload.id),payload);case 3:data=_context4.sent;return _context4.abrupt(\"return\",thunkAPI.fulfillWithValue(data.data));case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);return _context4.abrupt(\"return\",thunkAPI.rejectWithValue(_context4.t0));case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function(_x7,_x8){return _ref4.apply(this,arguments);};}());//put del id를 특정\nexport var reviewsSlice=createSlice({name:\"reviews\",initialState:initialState,reducers:{},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,__getReviews.pending,function(state){state.isLoading=true;}),_defineProperty(_extraReducers,__getReviews.fulfilled,function(state,action){state.isLoading=false;state.reviews=action.payload;}),_defineProperty(_extraReducers,__getReviews.rejected,function(state,action){state.isLoading=false;state.error=action.payload;}),_defineProperty(_extraReducers,__postReviews.fulfilled,function(state,action){state.isLoading=false;state.reviews.push(action.payload);}),_extraReducers)});// // 액션크리에이터는 컴포넌트에서 사용하기 위해 export 하고\n// export const { addNumber, minusNumber } = reviewSlice.actions;\n// // reducer 는 configStore에 등록하기 위해 export default 합니다.\n// export default reviewSlice.reducer;\n_objectDestructuringEmpty(reviewsSlice.actions);export{};export default reviewsSlice.reducer;","map":{"version":3,"names":["axios","createAsyncThunk","createSlice","initialState","reviews","isLoading","error","__postReviews","payload","thunkAPI","post","data","fulfillWithValue","rejectWithValue","__deleteReviews","delete","console","log","__getReviews","get","__patchReviews","patch","id","reviewsSlice","name","reducers","extraReducers","pending","state","fulfilled","action","rejected","push","actions","reducer"],"sources":["/Users/dayoon_sohn/Desktop/sparta/deploy/src/Redux/modules/reviewSlice.js"],"sourcesContent":["import axios from \"axios\";\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  reviews: [],\n  isLoading: false,\n  error: null,\n};\n\nexport const __postReviews = createAsyncThunk(\n  \"reviews/postReviews\",\n  async (payload, thunkAPI) => {\n    try {\n      const data = await axios.post(\"http://localhost:3001/reviews\", payload);\n      return thunkAPI.fulfillWithValue(data.data);\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error);\n    }\n  }\n);\n\nexport const __deleteReviews = createAsyncThunk(\n  \"reviews/deleteReviews\",\n  async (payload, thunkAPI) => {\n    try {\n      const data = await axios.delete(`http://localhost:3001/reviews/${payload}`);\n      console.log('deletetest')\n      return thunkAPI.fulfillWithValue(payload);\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error);\n    }\n  }\n);\n\nexport const __getReviews = createAsyncThunk(\n  \"reviews/getReviews\",\n  async (payload, thunkAPI) => {\n    try {\n      const data = await axios.get(\"http://localhost:3001/reviews\");\n      return thunkAPI.fulfillWithValue(data.data);\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error);\n    }\n  }\n);\n\nexport const __patchReviews = createAsyncThunk(\n  \"reviews/patchReviews\",\n  async (payload, thunkAPI) => {\n    try {\n      const data = await axios.patch(`http://localhost:3001/reviews/${payload.id}`, payload\n      \n      );\n      return thunkAPI.fulfillWithValue(data.data);\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error);\n    }\n  }\n); //put del id를 특정\n\nexport const reviewsSlice = createSlice({\n  name: \"reviews\",\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [__getReviews.pending]: (state) => {\n      state.isLoading = true;\n    },\n    [__getReviews.fulfilled]: (state, action) => {\n      state.isLoading = false;\n      state.reviews = action.payload;\n    },\n    [__getReviews.rejected]: (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    },\n    [__postReviews.fulfilled]: (state, action) => {\n      state.isLoading = false;\n      state.reviews.push(action.payload);\n    },\n    \n  },\n});\n\n// // 액션크리에이터는 컴포넌트에서 사용하기 위해 export 하고\n// export const { addNumber, minusNumber } = reviewSlice.actions;\n// // reducer 는 configStore에 등록하기 위해 export default 합니다.\n// export default reviewSlice.reducer;\n\nexport const {} = reviewsSlice.actions;\nexport default reviewsSlice.reducer;\n"],"mappings":"mjBAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,gBAAT,CAA2BC,WAA3B,KAA8C,kBAA9C,CAEA,GAAMC,aAAY,CAAG,CACnBC,OAAO,CAAE,EADU,CAEnBC,SAAS,CAAE,KAFQ,CAGnBC,KAAK,CAAE,IAHY,CAArB,CAMA,MAAO,IAAMC,cAAa,CAAGN,gBAAgB,CAC3C,qBAD2C,4FAE3C,iBAAOO,OAAP,CAAgBC,QAAhB,mKAEuBT,MAAK,CAACU,IAAN,CAAW,+BAAX,CAA4CF,OAA5C,CAFvB,QAEUG,IAFV,+CAGWF,QAAQ,CAACG,gBAAT,CAA0BD,IAAI,CAACA,IAA/B,CAHX,0FAKWF,QAAQ,CAACI,eAAT,aALX,sEAF2C,mEAAtC,CAYP,MAAO,IAAMC,gBAAe,CAAGb,gBAAgB,CAC7C,uBAD6C,6FAE7C,kBAAOO,OAAP,CAAgBC,QAAhB,yKAEuBT,MAAK,CAACe,MAAN,yCAA8CP,OAA9C,EAFvB,QAEUG,IAFV,gBAGIK,OAAO,CAACC,GAAR,CAAY,YAAZ,EAHJ,iCAIWR,QAAQ,CAACG,gBAAT,CAA0BJ,OAA1B,CAJX,8FAMWC,QAAQ,CAACI,eAAT,cANX,wEAF6C,qEAAxC,CAaP,MAAO,IAAMK,aAAY,CAAGjB,gBAAgB,CAC1C,oBAD0C,6FAE1C,kBAAOO,OAAP,CAAgBC,QAAhB,yKAEuBT,MAAK,CAACmB,GAAN,CAAU,+BAAV,CAFvB,QAEUR,IAFV,iDAGWF,QAAQ,CAACG,gBAAT,CAA0BD,IAAI,CAACA,IAA/B,CAHX,8FAKWF,QAAQ,CAACI,eAAT,cALX,wEAF0C,qEAArC,CAYP,MAAO,IAAMO,eAAc,CAAGnB,gBAAgB,CAC5C,sBAD4C,6FAE5C,kBAAOO,OAAP,CAAgBC,QAAhB,yKAEuBT,MAAK,CAACqB,KAAN,yCAA6Cb,OAAO,CAACc,EAArD,EAA2Dd,OAA3D,CAFvB,QAEUG,IAFV,iDAKWF,QAAQ,CAACG,gBAAT,CAA0BD,IAAI,CAACA,IAA/B,CALX,8FAOWF,QAAQ,CAACI,eAAT,cAPX,wEAF4C,qEAAvC,CAYJ;AAEH,MAAO,IAAMU,aAAY,CAAGrB,WAAW,CAAC,CACtCsB,IAAI,CAAE,SADgC,CAEtCrB,YAAY,CAAZA,YAFsC,CAGtCsB,QAAQ,CAAE,EAH4B,CAItCC,aAAa,mDACVR,YAAY,CAACS,OADH,CACa,SAACC,KAAD,CAAW,CACjCA,KAAK,CAACvB,SAAN,CAAkB,IAAlB,CACD,CAHU,iCAIVa,YAAY,CAACW,SAJH,CAIe,SAACD,KAAD,CAAQE,MAAR,CAAmB,CAC3CF,KAAK,CAACvB,SAAN,CAAkB,KAAlB,CACAuB,KAAK,CAACxB,OAAN,CAAgB0B,MAAM,CAACtB,OAAvB,CACD,CAPU,iCAQVU,YAAY,CAACa,QARH,CAQc,SAACH,KAAD,CAAQE,MAAR,CAAmB,CAC1CF,KAAK,CAACvB,SAAN,CAAkB,KAAlB,CACAuB,KAAK,CAACtB,KAAN,CAAcwB,MAAM,CAACtB,OAArB,CACD,CAXU,iCAYVD,aAAa,CAACsB,SAZJ,CAYgB,SAACD,KAAD,CAAQE,MAAR,CAAmB,CAC5CF,KAAK,CAACvB,SAAN,CAAkB,KAAlB,CACAuB,KAAK,CAACxB,OAAN,CAAc4B,IAAd,CAAmBF,MAAM,CAACtB,OAA1B,EACD,CAfU,iBAJyB,CAAD,CAAhC,CAwBP;AACA;AACA;AACA;AAEO,0BAAWe,YAAY,CAACU,OAAxB,E,SACP,cAAeV,aAAY,CAACW,OAA5B"},"metadata":{},"sourceType":"module"}